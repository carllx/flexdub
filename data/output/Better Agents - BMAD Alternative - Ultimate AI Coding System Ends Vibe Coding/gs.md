# Better Agents：构建生产级AI智能体的终极指南 - 完整中文逐字稿

## 基本信息
- **视频时长**：09:46
- **讲者数量**：1位 (World of AI 主理人)
- **转录时间**：2024年5月
- **核心主题**：介绍 LangChain 推出的 Better Agents 框架，用于标准化构建、测试和部署高质量 AI 智能体。

## 完整逐字稿

### [00:00] World of AI
在这个频道，我们已经展示了大量编程智能体（Coding Agent）的增强工具，它们提升了智能体运行和生成代码的能力。但现在，LangChain 推出了一个新的超级智能体框架，可以真正为你想要创建的任何 **AI Agent**（AI智能体）进行“涡轮增压”，无论你是要创建一个编程助手还是普通的 AI 智能体。

无论你是在使用像 KiloCode、Cursor 这样的编程智能体，还是像 **Claude Code**（克劳德代码）这样的工具。你可以对其进行微调，将其转变为任何领域的专家级 AI 智能体，从而获得该智能体的最佳实践。

### [00:35] World of AI
这里我想介绍一下 **Better Agents**（更好的智能体）。Better Agents 是一个 **CLI**（命令行界面）工具，它设定了正确构建智能体的标准。它能提升你的编程智能体或你创建的任何智能体的能力，甚至还能帮你为想要构建的项目选择最合适的 AI 智能体框架。

让我们来看看 Better Agents 的实际应用。这里有一个请求，要求构建一个充当银行客户代表的 AI 智能体。它需要支持并帮助客户解冻信用卡、查看交易记录，并在需要时升级转接给人工客服。

一旦输入提示词，Better Agents 就能触发 KiloCode 作为主要的功能性 AI 智能体，以完整的推理能力执行此任务。Better Agents 正在编排这一切，并与 AI 智能体协作，使用正确的框架来完成任务，而且整个过程都是自动构建的。

### [01:26] World of AI
它开始从零为该智能体组建一个合理的结构。它生成工具，设置语义代码索引，甚至运行自动化测试，以便你可以查看一切是否正常运行。然后它会循环反馈，沟通更新，并与 KiloCode 合作修复问题，不断迭代，直到整个智能体完全可用。

大家现在可以看到，在 **LangWatch** 中，它正在测试和运行各种不同类型的测试，以查看它是否真的有效。在 **Mastra Studio**（它所使用的框架）中，它能够运行测试，让智能体实际执行任务，例如显示最新的信用卡交易记录。你可以看到它提供了一个列表。

### [02:08] World of AI
在我们开始之前，我想提一下，请务必订阅 World of AI 的时事通讯。我每周都会持续发布不同的通讯，这是你轻松获取 AI 领域最新动态知识的地方。所以请务必订阅，这完全是免费的。

### [02:27] World of AI
本质上，Better Agents 是一个命令行工具，也是一套标准，旨在以正确的方式构建你的智能体。通过一个简单的提示词描述你想要的智能体，它就能帮你轻松从零开始构建。它采用分步结构工作，就像你在这里看到的一样。

这是一个“Better Agents 结构”，它根据你选择的框架（无论是 Agno 还是 Mastra）搭建一个完整的、可用于生产环境的智能体项目脚手架。你可以通过为你的编程助手（如 KiloCode, Claude Code, Cursor 或任何智能体）提供构建智能体所需的所有最佳实践和结构，来对其进行超级增强。

### [03:09] World of AI
它的运作原理非常简单。它的工作是自动生成标准化的项目布局，正如你在这里看到的。它创建带有笔记和数据集的测试与场景，以衡量特定部分的性能，比如 **RAG**（检索增强生成）或版本提示词，以及分类任务。

它还会生成一个 `prompts.json` 文件。这本质上是一个注册表，用于保持提示词同步。你还有一个由它创建的 **MCP**（模型上下文协议）JSON 文件，其中配置了所有正确的 MCP 服务器，以便你的编程助手可以自动知道它需要的工具，并且这些工具对于未来的生成是可用的。

最后，你还有 `AGENTS.md` 文件。这是最佳实践指南，确保一切都按照正确的方式构建、测试和维护。有了所有这些，它将运行场景测试以确认智能体行为完全符合预期。它运行评估，你可以通过 LangWatch 将其可视化。

### [04:09] World of AI
此外，它还允许你与编程助手协作来修复问题、重写代码、更新提示词，或者为你的 AI 智能体添加新功能以使其更好。通过整个流程，你实际上拥有了一个自动生成的、结构完整、经过全面测试和评估的智能体。

之所以要使用这个工具，是因为这是启动任何新智能体项目的最佳方式，无需猜测正确的架构。它从一开始就强制执行生产级标准。它创建了一个更简单的结构，并且内置了可观测性，你可以自动测试不同的提示词版本和评估。这是大多数人在创建 AI 智能体时会跳过的步骤。

简而言之，它更可靠、更易于维护，并且可以随时用于现实世界的用例。

### [05:00] World of AI
开始使用非常简单。你只需要在电脑上安装 Better Agents 的包。你可以打开命令提示符，确保安装了 **NPM**（Node包管理器）。这很简单，他们提供了安装链接。你只需要确保拥有 Node.js 22及以上版本（我会把链接放在描述栏），以及一个编程助手和你想要用来驱动智能体开发的 API 密钥。

满足前提条件后，你可以在终端运行 `npm install` 命令。这将安装软件包，只需要几秒钟。然后，你可以在一个新项目中对其进行初始化。它在任何新项目中效果最好，因为它从一开始就正确创建结构。

### [05:47] World of AI
实际上我已经切换到了 **WSL**（Windows子系统Linux），因为我觉得它更好用。你可以看到我已经在我的 agents 文件夹中初始化了它。现在我可以选择我想使用的编程语言，我将使用 TypeScript。

然后你可以选择你想使用的智能体框架。你可以选择 Mastra，这也是我目前唯一安装的。所以我选择它。接着选择大语言模型提供商。目前我相信 Anthropic 的 Opus 3.5（讲者口误，应为 Claude 3.5 Sonnet 或 Opus）是最好的选择。虽然贵一点，但你会得到最好的结果。你可以选择它并提供你的 Anthropic API 密钥。

### [06:23] World of AI
我已经设置了 API 密钥，我个人将使用 KiloCode。我需要确保在 CLI 中安装了它。我会简单地去执行这一步。我相信它实际上会为你执行此操作，所以你可以说“请为我安装”，它将安装 KiloCode CLI，以便我们可以直接在 WSL 中使用它。

### [06:44] World of AI
之后，你需要提供一个 **LangWatch** API 密钥。你也可以提供一个 Smithery API 密钥，这是可选的，我没有提供。现在你可以描述你想要创建什么样的智能体。

我要做的是让一个智能体帮我自动追踪支出、管理预算并提供财务洞察。实际上我已经切换到了 Claude Code，因为我相信在 Claude 3.5 的驱动下它会运行得更好。

现在我们可以选择要在 `mcp.json` 文件中使用的新的 MCP 服务器。我们要选择 LangWatch 以及 Mastra 的那个，然后按回车。

### [07:25] World of AI
你可以看到它现在正在与 Claude Code 通信以执行任务。你告诉它你是一名专家级 AI 智能体开发人员，该项目已使用 Better Agents 的最佳实践进行了设置。它请求遵循分步计划，并将执行创建更好的结构这一任务，以便我们的智能体更好地运行。

### [07:46] World of AI
令人惊讶的是，它很快就完成了。它基于 Better Agents 结构创建了文件结构，并且还为这个个人理财智能体开发了一个前端。

你可以看到展示可用预算警告的警报。还有按类别划分的预算。你还可以做一件很酷的事情，就是与财务助手聊天。你可以问它许多不同的预设提示词，比如“我的预算状况如何？”，你将能够得到由 OpenAI 提供商支持的回复。还有财务贴士、近期交易记录。这些都是我们在开发智能体时指定的。

### [08:33] World of AI
你可以看到我们模拟了高支出的日子。你甚至可以升级转接给顾问，这将把信息发送给财务顾问。这是一个使用 Better Agents 结构完全开发出来的 AI 智能体。

### [08:47] World of AI
如果你喜欢这个视频并希望支持频道，可以考虑通过下方的 Super Thanks 选项捐赠，或者加入我们的私人 Discord 社区...（后续为频道推广和结束语）

基本上这就是今天关于 Better Agents 的视频。如果你觉得这个工具有用请告诉我。我认为这是一个很酷的新工具，可以增强不同智能体的开发，不仅仅像我创建的这种基础智能体，你可以做更多事情，创建结构更好的智能体，经过全面测试并准备好部署，从而获得最佳结果。

我会把所有链接放在描述栏中...祝大家有美好的一天，传播正能量，我们下期见。Peace out guys!

---

## 🔍 图像补充说明

- **[01:34] 画面内容**：屏幕显示项目目录结构，左侧侧边栏清晰可见 `src`（源码）、`tests`（测试）、`prompts`（提示词）、`.mcp.json` 和 `AGENTS.md` 文件。这展示了 Better Agents 自动生成的标准化架构。
- **[01:48] 视觉补充**：LangWatch 界面展示了绿色的 "Pass"（通过）方块，分别标记为 "Credit Card Unblock"（信用卡解冻）和 "View Recent Transactions"（查看近期交易），表明自动化测试成功通过。
- **[05:50] 画面内容**：终端界面显示 CLI 交互过程。用户通过键盘上下键选择编程语言（TypeScript）和框架（Mastra），界面简洁直观。
- **[07:23] 视觉补充**：画面显示正在使用 `Claude Code v0.2.1`。虽然音频中听起来像 "Cloud Code"，但屏幕明确证实是 Anthropic 的 Claude Code 工具。
- **[07:53] 画面内容**：展示最终生成的"个人理财助手"网页界面。深色模式 UI，顶部有总支出、剩余预算卡片，中间有红色的 "BUDGET EXCEEDED"（预算超支）警报，底部是按类别（如食品、交通）的预算进度条。

## 📚 重要术语和人物

- **Better Agents** (English)：LangChain 推出的一款命令行工具（CLI），用于为 AI 智能体项目搭建标准化的目录结构、配置测试环境和最佳实践文档，旨在解决智能体开发中的无序问题。
- **Mastra** (English)：一种 AI 智能体开发框架，Better Agents 支持的底层框架之一。
- **Claude Code** (English Term)：Anthropic 推出的编程辅助工具，能够直接在终端中操作代码库，本视频中用于实际执行代码编写。
- **MCP** (Model Context Protocol)：模型上下文协议，一种标准化的方式，让 AI 模型能够连接到外部数据和工具（如数据库、API）。
- **LangWatch** (English)：一个用于监控、评估和调试 AI 智能体性能的可观测性平台。
- **KiloCode** (English)：另一种 AI 编程智能体工具，视频演示中也曾尝试使用。

## 💡 我的学习收获

### 我学到的核心内容
我从这个视频中学到了 **Better Agents** 这个工具的核心价值在于“标准化”。通常开发 AI Agent 很容易陷入结构混乱，但 Better Agents 强制提供了一套生产级的脚手架，包含了自动化测试、提示词版本管理和 MCP 工具配置。这不仅仅是写代码，而是建立了一套可持续维护的工程体系。

### 我的理解和思考
我认为最重要的观点是 **“测试驱动开发”在 AI 智能体中的应用**。视频中反复强调 automated tests（自动化测试）和 evaluation（评估），这是从玩具级 Demo 走向生产级应用的关键。通过 LangWatch 的集成，开发者可以在代码编写阶段就直观地看到智能体在特定场景下的表现是否达标。

### 我的实践计划
我计划将这些知识应用到我未来的 AI 项目初始化中。即使我不使用 Mastra 框架，我也希望参考 `AGENTS.md` 和 `prompts.json` 这种将提示词与逻辑分离、并为智能体行为编写专门测试文档的开发模式。

### 我想进一步探索的
我希望深入了解 **MCP (Model Context Protocol)** 的具体配置细节。视频中提到 Better Agents 会自动生成 `.mcp.json` 并配置服务器，我想知道如何手动自定义这些服务器，以便让智能体连接到我私有的数据库或自定义 API。

## ⏰ 关键时间节点
- [00:35] Better Agents 工具介绍与核心价值
- [02:47] 详解生成的项目文件结构 (AGENTS.md, .mcp.json)
- [05:00] 详细的安装与初始化教程
- [07:45] 最终生成的个人理财智能体演示